import './polyfills.server.mjs';
import{a as F,d as L}from"./chunk-FAVHH26C.mjs";import{$ as r,H as s,I as C,M as x,O as b,Oa as V,P as v,Q as T,R as S,S as E,T as w,U as e,V as i,W as D,X as k,Z as m,_ as d,aa as p,ba as f,da as y,ea as h,m as P,q as _,r as u,va as I,wa as M}from"./chunk-7GJCPFOY.mjs";import"./chunk-KRLCULJA.mjs";var A=()=>[I];function $(a,l){if(a&1){let t=k();e(0,"tr")(1,"td"),r(2),i(),e(3,"td"),r(4),i(),e(5,"td"),r(6),i(),e(7,"td")(8,"ul")(9,"li"),r(10),i(),e(11,"li"),r(12),i()()(),e(13,"td"),r(14),i(),e(15,"td"),r(16),i(),e(17,"td")(18,"div",10)(19,"button",11),D(20,"i",12),i(),e(21,"ul",13)(22,"li")(23,"button",14),m("click",function(){let c=_(t).$implicit,g=d(2);return u(g.navToAddTasks(c.id))}),r(24,"Editar"),i()()()()()()}if(a&2){let t=l.$implicit;s(2),p(t.title),s(2),p(t.description),s(2),p(t.dueDate),s(4),f("State: ",t.stateHistory.state,""),s(2),f("Date: ",t.stateHistory.date,""),s(2),p(t.completed),s(2),p(t.notes)}}var j=a=>({active:a});function N(a,l){if(a&1){let t=k();e(0,"li",8),m("click",function(){let c=_(t).$implicit,g=d(2);return u(g.changePage(c+1))}),e(1,"a",9),r(2),i()()}if(a&2){let t=l.$implicit,n=d(2);x("ngClass",h(2,j,n.currentPage===t+1)),s(2),f(" ",t+1," ")}}var O=a=>({disabled:a});function B(a,l){if(a&1){let t=k();e(0,"table",5)(1,"thead")(2,"tr")(3,"th",6),r(4,"Title"),i(),e(5,"th",6),r(6,"Description"),i(),e(7,"th",6),r(8,"Due Date"),i(),e(9,"th",6),r(10,"Current State"),i(),e(11,"th",6),r(12,"Completed"),i(),e(13,"th",6),r(14,"Notes"),i(),e(15,"th",6),r(16,"Actions"),i()()(),e(17,"tbody"),T(18,$,25,7,"tr",null,v),i()(),e(20,"nav")(21,"ul",7)(22,"li",8),m("click",function(){_(t);let o=d();return u(o.prevPage())}),e(23,"a",9),r(24,"Prev"),i()(),T(25,N,3,4,"li",15,v),e(27,"li",8),m("click",function(){_(t);let o=d();return u(o.nextPage())}),e(28,"a",9),r(29,"Next"),i()()()()}if(a&2){let t=d();s(18),S(t.pageTasks),s(4),x("ngClass",h(2,O,t.currentPage===1)),s(3),S(t.pages),s(2),x("ngClass",h(4,O,t.currentPage===t.pages.length))}}var K=(()=>{let l=class l{get pages(){let n=Math.ceil(this.tasks.length/this.itemPerPage);return Array(n).fill(0).map((o,c)=>c)}get pageTasks(){let n=(this.currentPage-1)*this.itemPerPage,o=this.currentPage*this.itemPerPage;return this.tasks.slice(n,o)}constructor(n,o){this.taskService=n,this.router=o,this.tasks=[],this.currentPage=1,this.itemPerPage=5}ngOnInit(){this.taskService.getTasks().subscribe(n=>{this.tasks=F(n.tasks)})}prevPage(){this.currentPage--}nextPage(){this.currentPage++}changePage(n){n>0&&n<=this.pages.length&&(this.currentPage=n)}navToAddTasks(n=""){this.router.navigate([`/add-task/${n}`])}};l.\u0275fac=function(o){return new(o||l)(C(L),C(V))},l.\u0275cmp=P({type:l,selectors:[["app-tasks-list"]],standalone:!0,features:[y],decls:9,vars:0,consts:[[1,"grid","gap-2","d-flex","flex-column"],[1,"row","d-flex","justify-content-end","p-0","m-0"],[1,"col","button-container"],[1,"btn","header-color","text-light",3,"click"],[1,"row"],[1,"table","table-bordered","table-striped","border-rounded"],[1,"text-light","header-color"],[1,"pagination","justify-content-left"],[1,"page-item","cursor-pointer",3,"ngClass","click"],[1,"page-link"],[1,"dropdown"],["data-bs-toggle","dropdown",1,"btn"],[1,"bi","bi-three-dots-vertical"],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"],["class","page-item cursor-pointer",3,"ngClass"]],template:function(o,c){o&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),m("click",function(){return c.navToAddTasks()}),r(4,"Add Task"),i()()(),e(5,"div",4),b(6,B,30,6),E(7,6,A),w(),i()())},dependencies:[M],styles:[".header-color[_ngcontent-%COMP%]{background-color:#66182a}.button-container[_ngcontent-%COMP%]{width:fit-content}.active[_ngcontent-%COMP%] > .page-link[_ngcontent-%COMP%], .page-link.active[_ngcontent-%COMP%]{background-color:#66182a;border:#66182A;color:#fff}.page-link[_ngcontent-%COMP%]{color:#66182a}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}"]});let a=l;return a})();export{K as TasksListComponent};
